<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>포트폴리오 | RECOCULTURE</title>
<meta name="description" content="레코컬쳐가 만든 456개 영상, 5700만+ 누적 조회수. 전문직 유튜브 브랜딩의 실제 성과.">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Outfit:wght@300;400;500;600;700;800;900&family=Noto+Sans+KR:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
<style>
/* ===== COUNTER (sticky) ===== */
.portfolio-counter {
  position: sticky;
  top: 72px;
  z-index: 100;
  background: rgba(10,10,10,0.92);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid rgba(255,255,255,0.06);
  padding: 20px 48px;
  text-align: center;
}
.pc__label {
  font-size: 13px;
  font-weight: 600;
  color: #888;
  margin-bottom: 8px;
}
.pc__label .orange { color: var(--orange); }
.pc__pulse {
  display: inline-block;
  width: 7px; height: 7px;
  background: #22c55e;
  border-radius: 50%;
  margin-right: 6px;
  animation: pulse 2s ease-in-out infinite;
  vertical-align: middle;
}
@keyframes pulse {
  0%,100%{opacity:1;transform:scale(1);}
  50%{opacity:0.4;transform:scale(0.7);}
}
.pc__number {
  font-family: 'Inter', var(--font-en);
  font-size: clamp(32px, 5vw, 56px);
  font-weight: 800;
  color: #fff;
  line-height: 1;
  display: inline-flex;
  align-items: flex-end;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.02em;
}
.pc__digit {
  display: inline-block;
  height: 1em;
  width: 0.62em;
  overflow: hidden;
  line-height: 1;
}
.pc__digit-inner {
  display: block;
  transition: transform 0.5s cubic-bezier(0.23,1,0.32,1);
  will-change: transform;
}
.pc__digit-inner span {
  display: block;
  height: 1em;
  line-height: 1;
  text-align: center;
}
.pc__sep {
  display: inline-flex;
  align-items: flex-end;
  justify-content: center;
  width: 0.2em;
  height: 1em;
  color: var(--orange);
  font-weight: 400;
  font-size: 0.5em;
  padding-bottom: 0.08em;
}

/* ===== CARD CASE SECTION ===== */
.wall-section {
  background: #0a0a0a;
  padding: 60px 0 0;
  overflow: hidden;
}
.wall-section__header {
  text-align: center;
  padding: 0 48px 40px;
}
.wall-section__sub {
  font-size: 14px;
  color: #666;
  margin-bottom: 8px;
}
.wall-section__title {
  font-size: clamp(24px, 3vw, 36px);
  font-weight: 800;
  color: #fff;
  letter-spacing: -0.5px;
}
.wall-section__title span { color: var(--orange); }

/* ===== CARD CASE COLUMNS ===== */
.card-case {
  display: flex;
  gap: 10px;
  padding: 0 24px;
  max-width: 1600px;
  margin: 0 auto;
}
.card-case__col {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* ===== SLICE (individual card) ===== */
.slice {
  position: relative;
  display: block;
  height: 10px;
  overflow: hidden;
  border-radius: 3px;
  background: #1a1a1a;
  transition: height 0.35s cubic-bezier(0.23,1,0.32,1), box-shadow 0.3s, border-radius 0.3s;
  cursor: pointer;
  border-left: 4px solid #333;
}
.slice.is-big {
  height: 14px;
}
.slice img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  display: block;
  filter: brightness(0.5) saturate(0.8);
  transition: filter 0.3s;
}
.slice img.loading { opacity: 0; }

/* HOVER: expand */
.slice:hover {
  height: 220px;
  border-radius: 10px;
  z-index: 50;
  box-shadow: 0 12px 40px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.08);
}
.slice:hover img {
  filter: brightness(1) saturate(1);
}

/* Info overlay (visible on hover) */
.slice__info {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 12px 14px;
  background: linear-gradient(transparent, rgba(0,0,0,0.92) 40%);
  opacity: 0;
  transition: opacity 0.25s;
}
.slice:hover .slice__info {
  opacity: 1;
}
.slice__channel {
  font-family: var(--font-en);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  color: var(--orange);
  margin-bottom: 3px;
}
.slice__title {
  font-size: 12px;
  font-weight: 600;
  color: #fff;
  line-height: 1.35;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin-bottom: 4px;
}
.slice__meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.slice__views {
  font-family: var(--font-en);
  font-size: 11px;
  color: rgba(255,255,255,0.5);
}
.slice__views strong { color: var(--orange); }
.slice__link {
  font-family: var(--font-en);
  font-size: 10px;
  font-weight: 600;
  color: var(--orange);
  letter-spacing: 0.3px;
}

/* ===== COLLAPSE + EXPAND ===== */
.card-case-wrap {
  position: relative;
}
.card-case-wrap.is-collapsed .card-case {
  max-height: 520px;
  overflow: hidden;
}
.card-case-wrap.is-collapsed::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 180px;
  background: linear-gradient(transparent, #0a0a0a);
  pointer-events: none;
  z-index: 10;
}
.wall-expand {
  text-align: center;
  padding: 32px 48px 60px;
  background: #0a0a0a;
  position: relative;
  z-index: 20;
}
.wall-expand__text {
  font-size: 15px;
  color: #888;
  margin-bottom: 20px;
}
.wall-expand__btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-family: var(--font-kr);
  font-size: 15px;
  font-weight: 700;
  color: #fff;
  background: var(--orange);
  border: none;
  padding: 14px 36px;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s;
}
.wall-expand__btn:hover {
  background: var(--orange-light);
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(237,108,0,0.3);
}
.wall-expand__count {
  font-family: var(--font-en);
  font-size: 13px;
  color: #666;
  margin-top: 12px;
}
.wall-expand.is-hidden { display: none; }

@media (max-width: 1024px) {
  .card-case { gap: 8px; }
}
@media (max-width: 768px) {
  .portfolio-counter { padding: 16px 24px; top: 72px; }
  .wall-section { padding: 40px 0 0; }
  .wall-section__header { padding: 0 24px 28px; }
  .card-case { padding: 0 12px; gap: 6px; }
  .slice:hover { height: 180px; }
  .slice img { height: 160px; }
  .wall-expand { padding: 24px 24px 48px; }
}
</style>
</head>
<body>

<!-- NAV -->
<nav class="nav">
  <a href="/" class="nav__logo">REC<span class="rc-o">O</span>CULTURE</a>
  <ul class="nav__links">
    <li><a href="/" class="nav__link">Home</a></li>
    <li><a href="/portfolio.html" class="nav__link nav__link--active">Portfolio</a></li>
    <li><a href="/services.html" class="nav__link">Services</a></li>
    <li><a href="/careers.html" class="nav__link">Careers</a></li>
    <li><a href="/services.html#contact" class="nav__cta">무료 상담</a></li>
  </ul>
  <div class="nav__hamburger" onclick="document.querySelector('.nav__mobile-menu').classList.toggle('is-open')">
    <span></span><span></span><span></span>
  </div>
</nav>
<div class="nav__mobile-menu">
  <a href="/">Home</a>
  <a href="/portfolio.html" class="nav__link--active">Portfolio</a>
  <a href="/services.html">Services</a>
  <a href="/careers.html">Careers</a>
  <a href="/services.html#contact">무료 상담</a>
</div>

<!-- SPACER -->
<div style="height: 72px; background: #0a0a0a;"></div>

<!-- STICKY COUNTER -->
<div class="portfolio-counter" id="counter-bar">
  <p class="pc__label"><span class="pc__pulse"></span>레코컬쳐에서 만든 영상의 <span class="orange">누적 조회수</span></p>
  <div class="pc__number" id="counter-display">0</div>
</div>

<!-- CARD CASE WALL -->
<section class="wall-section">
  <div class="wall-section__header">
    <p class="wall-section__sub">456 videos across 9 channels</p>
    <h2 class="wall-section__title">이 모든 영상을 <span>우리가 만들었습니다</span></h2>
  </div>
  <div class="card-case-wrap is-collapsed">
    <div class="card-case" id="card-case"></div>
  </div>
  <div class="wall-expand" id="wall-expand">
    <p class="wall-expand__text">더 많은 포트폴리오를 확인하시겠어요?</p>
    <button class="wall-expand__btn" id="expand-btn">전체 포트폴리오 보기 <span>↓</span></button>
    <p class="wall-expand__count" id="expand-count"></p>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <h2 class="cta-section__title">다음 성공 사례의<br><span style="color: var(--orange)">주인공이 되세요</span></h2>
  <p class="cta-section__desc">무료 상담으로 채널 성장 전략을 확인하세요.</p>
  <a href="/services.html#contact" class="btn btn--primary" style="font-size: 17px; padding: 18px 48px;">무료 상담 신청하기 <span class="btn__arrow">→</span></a>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer__top">
    <div>
      <div class="footer__logo">REC<span class="rc-o">O</span>CULTURE</div>
      <p class="footer__tagline">전문직 유튜브 미디어 브랜딩</p>
    </div>
    <div class="footer__links">
      <div class="footer__col">
        <div class="footer__col-title">Menu</div>
        <a href="/">Home</a>
        <a href="/portfolio.html">Portfolio</a>
        <a href="/services.html">Services</a>
        <a href="/careers.html">Careers</a>
      </div>
      <div class="footer__col">
        <div class="footer__col-title">Contact</div>
        <a href="mailto:og@recoculture.com">og@recoculture.com</a>
        <a href="tel:01027495144">010-2749-5144</a>
        <a href="http://pf.kakao.com/_PxfyFn/chat">KakaoTalk →</a>
      </div>
    </div>
  </div>
  <div class="footer__bottom">
    <p class="footer__copy">© 2025 RECOCULTURE CO., LTD. All rights reserved. 주식회사 레코컬쳐</p>
    <div class="footer__legal">
      <a href="#">이용약관</a>
      <a href="#">개인정보처리방침</a>
    </div>
  </div>
</footer>

<script>
// ===== CONFIG =====
const CHANNEL_COLORS = {
  '이바다이야기':'#ED6C00','친절한 송이씨':'#E8488A','권의시선':'#3B82F6',
  '하원장 강동현':'#8B5CF6','Prepatina 차랑꾼':'#444','태오네모세모':'#06B6D4',
  '진로사이다':'#F59E0B','바른의사 백승우':'#10B981','우선이선우':'#EC4899',
  '이태호 수의사':'#6366F1',
};
const API_KEY = 'AIzaSyDegAUyaLZzxZOmqPZ7Cknr6BLQVo_Z1Zk';
const CHANNELS = [
  'UCa4XAtZ_04zXUAh28HFbJQw','UCa16_cbdgo7BDjHbJvJowGw','UCdRgh9GCeMs8Bo86QMSuiuA',
  'UCvQCmSsCRb8z3q0SO5JW8Pw','UCQs5sRayqKqrdxTaV38OVRA','UCj_RY4FlDqfafum6Gy5nUiA',
  'UCDy8IPYmRu6WbDUyAs1ffyg','UC9yDBiSGrXpooefuaXO6BaA','UC2kME1ttakYQVNxBQJJo6Sw',
  'UCwDwL7htetGbWwypB1sYK5A',
];

// ===== COUNTER =====
(function(){
  const el=document.getElementById('counter-display');
  let current=0,vps=0.5,lastDisplay=-1,started=false;
  let digitEls=[],lastChars=[],built=false;
  function buildSlots(s){
    el.innerHTML='';digitEls=[];lastChars=[];
    for(const ch of s){
      if(ch===','){
        const sep=document.createElement('span');sep.className='pc__sep';sep.textContent=',';
        el.appendChild(sep);digitEls.push(null);lastChars.push(',');
      }else{
        const w=document.createElement('span');w.className='pc__digit';
        const inner=document.createElement('span');inner.className='pc__digit-inner';
        for(let d=0;d<=9;d++){const s2=document.createElement('span');s2.textContent=d;inner.appendChild(s2);}
        w.appendChild(inner);el.appendChild(w);
        inner.style.transition='none';inner.style.transform=`translateY(-${parseInt(ch)}em)`;
        digitEls.push(inner);lastChars.push(ch);
      }
    }
    built=true;
    requestAnimationFrame(()=>{digitEls.forEach(i=>{if(i)i.style.transition='';});});
  }
  function setDigits(s){
    if(!built||s.length!==lastChars.length){buildSlots(s);return;}
    for(let i=0;i<s.length;i++){const ch=s[i];if(ch!==','&&ch!==lastChars[i]&&digitEls[i]){digitEls[i].style.transform=`translateY(-${parseInt(ch)}em)`;lastChars[i]=ch;}}
  }
  function fmt(n){return Math.floor(n).toLocaleString('en-US');}
  async function fetchTotal(){
    try{
      const r=await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNELS.join(',')}&key=${API_KEY}`);
      const d=await r.json();if(!d.items)throw 0;
      let t=0;d.items.forEach(c=>{t+=parseInt(c.statistics.viewCount||0);});
      const c2=JSON.parse(localStorage.getItem('rc_counter')||'null');
      if(c2&&t>c2.v){const dt=(Date.now()-c2.t)/1000;if(dt>300)vps=Math.max(0.1,(t-c2.v)/dt);}
      localStorage.setItem('rc_counter',JSON.stringify({v:t,t:Date.now(),vps}));return t;
    }catch(e){
      const c2=JSON.parse(localStorage.getItem('rc_counter')||'null');
      if(c2){vps=c2.vps||0.5;return c2.v+Math.floor((Date.now()-c2.t)/1000*vps);}
      return 56923406;
    }
  }
  function startTick(){
    if(started)return;started=true;let last=performance.now();
    function tick(now){const dt=(now-last)/1000;last=now;current+=vps*dt;const r=Math.floor(current);if(r!==lastDisplay){lastDisplay=r;setDigits(fmt(r));}requestAnimationFrame(tick);}
    requestAnimationFrame(tick);
  }
  fetchTotal().then(t=>{current=t;buildSlots(fmt(t));lastDisplay=t;setTimeout(()=>startTick(),300);setInterval(async()=>{const f=await fetchTotal();if(f>current)current=f;},3600000);});
})();

// ===== CARD CASE =====
(function(){
  const container = document.getElementById('card-case');
  const wrap = document.querySelector('.card-case-wrap');
  const expandEl = document.getElementById('wall-expand');
  const expandBtn = document.getElementById('expand-btn');
  const expandCount = document.getElementById('expand-count');
  const COLS = window.innerWidth < 640 ? 2 : window.innerWidth < 768 ? 3 : window.innerWidth < 1200 ? 4 : 5;

  fetch('portfolio-data-compact.json')
    .then(r => r.json())
    .then(videos => {
      // 조회수 상위 10% 판별
      const topThreshold = videos.sort((a,b) => b.v - a.v)[Math.floor(videos.length * 0.1)]?.v || 50000;

      // 셔플: 큰/작은 섞기
      const shuffled = [...videos];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }

      // 5열 생성
      const cols = [];
      for (let c = 0; c < COLS; c++) {
        const col = document.createElement('div');
        col.className = 'card-case__col';
        cols.push(col);
        container.appendChild(col);
      }

      // 카드 분배
      shuffled.forEach((v, idx) => {
        const col = cols[idx % COLS];
        const color = CHANNEL_COLORS[v.c] || '#ED6C00';
        const isBig = v.v >= topThreshold;

        const a = document.createElement('a');
        a.className = 'slice' + (isBig ? ' is-big' : '');
        a.href = `https://www.youtube.com/watch?v=${v.i}`;
        a.target = '_blank';
        a.style.borderLeftColor = color;

        // 이미지
        const img = document.createElement('img');
        img.className = 'loading';
        img.alt = '';
        img.loading = 'lazy';
        img.src = `https://i.ytimg.com/vi/${v.i}/mqdefault.jpg`;
        img.onload = () => { img.classList.remove('loading'); img.style.opacity = '1'; };
        img.onerror = () => { img.src = `https://i.ytimg.com/vi/${v.i}/hqdefault.jpg`; };
        a.appendChild(img);

        // 호버 정보
        const info = document.createElement('div');
        info.className = 'slice__info';
        const viewsFmt = v.v >= 10000
          ? (v.v / 10000).toFixed(1).replace(/\.0$/, '') + '만'
          : v.v.toLocaleString();
        info.innerHTML = `
          <div class="slice__channel">${v.c}</div>
          <div class="slice__title">${v.t}</div>
          <div class="slice__meta">
            <span class="slice__views">조회수 <strong>${viewsFmt}</strong></span>
            <span class="slice__link">YouTube →</span>
          </div>
        `;
        a.appendChild(info);

        col.appendChild(a);
      });

      // 더보기
      expandCount.textContent = `총 ${shuffled.length}개 영상`;
      expandBtn.addEventListener('click', () => {
        wrap.classList.remove('is-collapsed');
        expandEl.classList.add('is-hidden');
      });
    });
})();
</script>

</body>
</html>
