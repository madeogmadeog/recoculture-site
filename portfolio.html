<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>포트폴리오 | RECOCULTURE</title>
<meta name="description" content="레코컬쳐가 만든 543개 영상, 5700만+ 누적 조회수. 전문직 유튜브 브랜딩의 실제 성과.">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Outfit:wght@300;400;500;600;700;800;900&family=Noto+Sans+KR:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
<style>
/* ===== COUNTER (sticky) ===== */
.portfolio-counter {
  position: sticky;
  top: 72px;
  z-index: 100;
  background: rgba(255,255,255,0.92);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--border);
  padding: 20px 48px;
  text-align: center;
  transition: box-shadow 0.3s;
}
.portfolio-counter.has-shadow {
  box-shadow: 0 4px 20px rgba(0,0,0,0.06);
}
.pc__label {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 8px;
}
.pc__label .orange { color: var(--orange); }
.pc__pulse {
  display: inline-block;
  width: 7px; height: 7px;
  background: #22c55e;
  border-radius: 50%;
  margin-right: 6px;
  animation: pulse 2s ease-in-out infinite;
  vertical-align: middle;
}
@keyframes pulse {
  0%,100%{opacity:1;transform:scale(1);}
  50%{opacity:0.4;transform:scale(0.7);}
}
.pc__number {
  font-family: 'Inter', var(--font-en);
  font-size: clamp(32px, 5vw, 56px);
  font-weight: 800;
  color: var(--text-primary);
  line-height: 1;
  display: inline-flex;
  align-items: flex-end;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.02em;
}
.pc__digit {
  display: inline-block;
  height: 1em;
  width: 0.62em;
  overflow: hidden;
  line-height: 1;
}
.pc__digit-inner {
  display: block;
  transition: transform 0.5s cubic-bezier(0.23,1,0.32,1);
  will-change: transform;
}
.pc__digit-inner span {
  display: block;
  height: 1em;
  line-height: 1;
  text-align: center;
}
.pc__sep {
  display: inline-flex;
  align-items: flex-end;
  justify-content: center;
  width: 0.2em;
  height: 1em;
  color: var(--orange);
  font-weight: 400;
  font-size: 0.5em;
  padding-bottom: 0.08em;
}
.pc__sub {
  font-size: 12px;
  color: var(--text-tertiary);
  margin-top: 4px;
}

/* ===== ZOOM CONTAINER ===== */
.zoom-wrap {
  position: relative;
  overflow: hidden;
}
.zoom-spacer {
  /* JS로 높이 계산 — 줌아웃 스크롤 공간 확보 */
  position: relative;
}
.zoom-viewport {
  position: sticky;
  top: 160px; /* counter 높이 아래 */
  overflow: hidden;
  height: calc(100vh - 160px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ===== THUMBNAIL WALL ===== */
.thumb-wall {
  display: grid;
  gap: 3px;
  transform-origin: center center;
  will-change: transform;
}
.thumb-wall a {
  position: relative;
  display: block;
  overflow: hidden;
  border-radius: 6px;
  background: var(--gray-100);
  aspect-ratio: 1/1;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.thumb-wall a:hover {
  transform: scale(1.06);
  z-index: 50;
  box-shadow: 0 8px 30px rgba(0,0,0,0.18);
}
.thumb-wall a img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: opacity 0.4s;
}
.thumb-wall a img[data-src] {
  opacity: 0;
}
/* 채널 하단 바 */
.thumb-wall a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 3px;
}
/* 호버 오버레이 */
.thumb-wall a .overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.75);
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 10px;
  opacity: 0;
  transition: opacity 0.2s;
  border-radius: 6px;
}
.thumb-wall a:hover .overlay {
  opacity: 1;
}
.overlay__channel {
  font-family: var(--font-en);
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  color: var(--orange);
  margin-bottom: 3px;
}
.overlay__title {
  font-size: 11px;
  font-weight: 600;
  color: #fff;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin-bottom: 4px;
}
.overlay__views {
  font-family: var(--font-en);
  font-size: 10px;
  color: rgba(255,255,255,0.7);
}
.overlay__views strong {
  color: var(--orange);
}
/* 2x, 3x 크기 영상 */
.thumb-wall a.size-2 { grid-column: span 2; grid-row: span 2; }
.thumb-wall a.size-3 { grid-column: span 3; grid-row: span 3; }

/* 범례 */
.wall-legend {
  display: flex;
  justify-content: center;
  gap: 20px;
  padding: 32px 48px 48px;
  flex-wrap: wrap;
  background: var(--bg-primary);
}
.wall-legend__item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--text-tertiary);
}
.wall-legend__dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
}

/* ===== ZOOM GUIDE ===== */
.zoom-guide {
  position: absolute;
  bottom: 32px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 13px;
  color: var(--text-tertiary);
  display: flex;
  align-items: center;
  gap: 8px;
  z-index: 10;
  animation: fadeGuide 3s ease-in-out infinite;
  pointer-events: none;
}
.zoom-guide__arrow {
  animation: bounceDown 1.5s ease-in-out infinite;
}
@keyframes bounceDown {
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(6px);}
}
@keyframes fadeGuide {
  0%,100%{opacity:0.6;}
  50%{opacity:1;}
}

@media (max-width: 768px) {
  .portfolio-counter { padding: 16px 24px; top: 72px; }
  .zoom-viewport { top: 130px; height: calc(100vh - 130px); }
  .wall-legend { padding: 24px; gap: 12px; }
}
</style>
</head>
<body>

<!-- NAV -->
<nav class="nav">
  <a href="/" class="nav__logo">REC<span class="rc-o">O</span>CULTURE</a>
  <ul class="nav__links">
    <li><a href="/" class="nav__link">Home</a></li>
    <li><a href="/portfolio.html" class="nav__link nav__link--active">Portfolio</a></li>
    <li><a href="/services.html" class="nav__link">Services</a></li>
    <li><a href="/careers.html" class="nav__link">Careers</a></li>
    <li><a href="/services.html#contact" class="nav__cta">무료 상담</a></li>
  </ul>
  <div class="nav__hamburger" onclick="document.querySelector('.nav__mobile-menu').classList.toggle('is-open')">
    <span></span><span></span><span></span>
  </div>
</nav>
<div class="nav__mobile-menu">
  <a href="/">Home</a>
  <a href="/portfolio.html" class="nav__link--active">Portfolio</a>
  <a href="/services.html">Services</a>
  <a href="/careers.html">Careers</a>
  <a href="/services.html#contact">무료 상담</a>
</div>

<!-- STICKY COUNTER -->
<div class="portfolio-counter" id="counter-bar">
  <p class="pc__label"><span class="pc__pulse"></span>레코컬쳐에서 만든 영상의 <span class="orange">누적 조회수</span></p>
  <div class="pc__number" id="counter-display">0</div>
  <p class="pc__sub">543 videos · 10 channels · views and counting</p>
</div>

<!-- ZOOM WALL -->
<div class="zoom-wrap">
  <div class="zoom-spacer" id="zoom-spacer">
    <div class="zoom-viewport" id="zoom-viewport">
      <div class="thumb-wall" id="thumb-wall"></div>
      <div class="zoom-guide" id="zoom-guide">
        <span>스크롤하여 탐색</span>
        <span class="zoom-guide__arrow">↓</span>
      </div>
    </div>
  </div>
</div>

<!-- LEGEND -->
<div class="wall-legend" id="wall-legend"></div>

<!-- CTA -->
<section class="cta-section">
  <h2 class="cta-section__title">다음 성공 사례의<br><span style="color: var(--orange)">주인공이 되세요</span></h2>
  <p class="cta-section__desc">무료 상담으로 채널 성장 전략을 확인하세요.</p>
  <a href="/services.html#contact" class="btn btn--primary" style="font-size: 17px; padding: 18px 48px;">무료 상담 신청하기 <span class="btn__arrow">→</span></a>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer__top">
    <div>
      <div class="footer__logo">REC<span class="rc-o">O</span>CULTURE</div>
      <p class="footer__tagline">전문직 유튜브 미디어 브랜딩</p>
    </div>
    <div class="footer__links">
      <div class="footer__col">
        <div class="footer__col-title">Menu</div>
        <a href="/">Home</a>
        <a href="/portfolio.html">Portfolio</a>
        <a href="/services.html">Services</a>
        <a href="/careers.html">Careers</a>
      </div>
      <div class="footer__col">
        <div class="footer__col-title">Contact</div>
        <a href="mailto:og@recoculture.com">og@recoculture.com</a>
        <a href="tel:01027495144">010-2749-5144</a>
        <a href="http://pf.kakao.com/_PxfyFn/chat">KakaoTalk →</a>
      </div>
    </div>
  </div>
  <div class="footer__bottom">
    <p class="footer__copy">© 2025 RECOCULTURE CO., LTD. All rights reserved. 주식회사 레코컬쳐</p>
    <div class="footer__legal">
      <a href="#">이용약관</a>
      <a href="#">개인정보처리방침</a>
    </div>
  </div>
</footer>

<script>
// ===== CONFIG =====
const CHANNEL_COLORS = {
  '이바다이야기':'#ED6C00','친절한 송이씨':'#E8488A','권의시선':'#3B82F6',
  '하원장 강동현':'#8B5CF6','Prepatina 차랑꾼':'#1a1a1a','태오네모세모':'#06B6D4',
  '진로사이다':'#F59E0B','바른의사 백승우':'#10B981','우선이선우':'#EC4899',
  '이태호 수의사':'#6366F1',
};
const API_KEY = 'AIzaSyDegAUyaLZzxZOmqPZ7Cknr6BLQVo_Z1Zk';
const CHANNELS = [
  'UCa4XAtZ_04zXUAh28HFbJQw','UCa16_cbdgo7BDjHbJvJowGw','UCdRgh9GCeMs8Bo86QMSuiuA',
  'UCvQCmSsCRb8z3q0SO5JW8Pw','UCQs5sRayqKqrdxTaV38OVRA','UCj_RY4FlDqfafum6Gy5nUiA',
  'UCDy8IPYmRu6WbDUyAs1ffyg','UC9yDBiSGrXpooefuaXO6BaA','UC2kME1ttakYQVNxBQJJo6Sw',
  'UCwDwL7htetGbWwypB1sYK5A',
];

// ===== COUNTER (slot machine) =====
(function(){
  const el=document.getElementById('counter-display');
  let current=0,vps=0.5,lastDisplay=-1,started=false;
  let digitEls=[],lastChars=[],built=false;
  function buildSlots(s){
    el.innerHTML='';digitEls=[];lastChars=[];
    for(const ch of s){
      if(ch===','){
        const sep=document.createElement('span');sep.className='pc__sep';sep.textContent=',';
        el.appendChild(sep);digitEls.push(null);lastChars.push(',');
      }else{
        const w=document.createElement('span');w.className='pc__digit';
        const inner=document.createElement('span');inner.className='pc__digit-inner';
        for(let d=0;d<=9;d++){const s2=document.createElement('span');s2.textContent=d;inner.appendChild(s2);}
        w.appendChild(inner);el.appendChild(w);
        inner.style.transition='none';inner.style.transform=`translateY(-${parseInt(ch)}em)`;
        digitEls.push(inner);lastChars.push(ch);
      }
    }
    built=true;
    requestAnimationFrame(()=>{digitEls.forEach(i=>{if(i)i.style.transition='';});});
  }
  function setDigits(s){
    if(!built||s.length!==lastChars.length){buildSlots(s);return;}
    for(let i=0;i<s.length;i++){const ch=s[i];if(ch!==','&&ch!==lastChars[i]&&digitEls[i]){digitEls[i].style.transform=`translateY(-${parseInt(ch)}em)`;lastChars[i]=ch;}}
  }
  function fmt(n){return Math.floor(n).toLocaleString('en-US');}
  async function fetchTotal(){
    try{
      const r=await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNELS.join(',')}&key=${API_KEY}`);
      const d=await r.json();if(!d.items)throw 0;
      let t=0;d.items.forEach(c=>{t+=parseInt(c.statistics.viewCount||0);});
      const c2=JSON.parse(localStorage.getItem('rc_counter')||'null');
      if(c2&&t>c2.v){const dt=(Date.now()-c2.t)/1000;if(dt>300)vps=Math.max(0.1,(t-c2.v)/dt);}
      localStorage.setItem('rc_counter',JSON.stringify({v:t,t:Date.now(),vps}));return t;
    }catch(e){
      const c2=JSON.parse(localStorage.getItem('rc_counter')||'null');
      if(c2){vps=c2.vps||0.5;return c2.v+Math.floor((Date.now()-c2.t)/1000*vps);}
      return 56923406;
    }
  }
  function startTick(){
    if(started)return;started=true;let last=performance.now();
    function tick(now){const dt=(now-last)/1000;last=now;current+=vps*dt;const r=Math.floor(current);if(r!==lastDisplay){lastDisplay=r;setDigits(fmt(r));}requestAnimationFrame(tick);}
    requestAnimationFrame(tick);
  }
  fetchTotal().then(t=>{current=t;buildSlots(fmt(t));lastDisplay=t;setTimeout(()=>startTick(),300);setInterval(async()=>{const f=await fetchTotal();if(f>current)current=f;},3600000);});
})();

// ===== THUMBNAIL WALL + ZOOM =====
(function(){
  const wall = document.getElementById('thumb-wall');
  const spacer = document.getElementById('zoom-spacer');
  const viewport = document.getElementById('zoom-viewport');
  const guide = document.getElementById('zoom-guide');
  const legendEl = document.getElementById('wall-legend');
  const counterBar = document.getElementById('counter-bar');

  const COLS = window.innerWidth < 768 ? 12 : window.innerWidth < 1024 ? 18 : 24;
  const CELL = window.innerWidth < 768 ? 40 : 56;
  const GAP = 3;
  const MIN_SCALE = 0.3;
  const MAX_SCALE = 1.0;
  const ZOOM_SCROLL_PX = 1200; // 줌에 사용할 스크롤 거리

  fetch('portfolio-data-compact.json')
    .then(r => r.json())
    .then(videos => {
      // 셔플 (큰/작은 섞기) — 조회수 역순으로 정렬 후 인터리브
      const sorted = [...videos].sort((a,b) => b.v - a.v);
      const shuffled = [];
      const top = sorted.filter(v => v.s >= 9);  // 상위 ~10%
      const mid = sorted.filter(v => v.s >= 5 && v.s < 9);
      const low = sorted.filter(v => v.s < 5);

      // Grid setup
      wall.style.gridTemplateColumns = `repeat(${COLS}, ${CELL}px)`;
      wall.style.gridAutoRows = `${CELL}px`;
      wall.style.gap = GAP + 'px';

      // 배치: 상위는 2x2 또는 3x3, 나머지는 1x1
      const all = [];
      // Top 5: 3x3
      top.slice(0, 5).forEach(v => { v._size = 3; all.push(v); });
      // Top 6~20: 2x2
      top.slice(5).concat(mid.slice(0, 15)).forEach(v => { v._size = 2; all.push(v); });
      // 나머지: 1x1
      mid.slice(15).concat(low).forEach(v => { v._size = 1; all.push(v); });
      // Top에서 이미 넣은 것 외 나머지
      top.slice(20).forEach(v => { if (!v._size) { v._size = 1; all.push(v); }});

      // 섞기 (큰 것들이 고르게 분포하도록)
      const big = all.filter(v => v._size >= 2);
      const small = all.filter(v => v._size === 1);
      const final = [];
      let bi = 0, si = 0;
      while (bi < big.length || si < small.length) {
        // 큰 거 1개당 작은 거 ~8개 비율
        if (bi < big.length) { final.push(big[bi++]); }
        for (let k = 0; k < 8 && si < small.length; k++) { final.push(small[si++]); }
      }

      // DOM 생성
      final.forEach(v => {
        const a = document.createElement('a');
        a.href = `https://www.youtube.com/watch?v=${v.i}`;
        a.target = '_blank';
        const color = CHANNEL_COLORS[v.c] || '#ED6C00';

        if (v._size === 3) a.className = 'size-3';
        else if (v._size === 2) a.className = 'size-2';

        a.style.setProperty('--ch-color', color);
        a.style.borderBottom = `3px solid ${color}`;

        // 이미지 (lazy)
        const img = document.createElement('img');
        img.dataset.src = `https://i.ytimg.com/vi/${v.i}/mqdefault.jpg`;
        img.alt = '';
        img.loading = 'lazy';
        a.appendChild(img);

        // 오버레이
        const ov = document.createElement('div');
        ov.className = 'overlay';
        ov.innerHTML = `
          <div class="overlay__channel">${v.c}</div>
          <div class="overlay__title">${v.t}</div>
          <div class="overlay__views">조회수 <strong>${v.v.toLocaleString()}</strong></div>
        `;
        a.appendChild(ov);

        wall.appendChild(a);
      });

      // 벽 크기 계산
      const wallW = COLS * (CELL + GAP);
      const wallH = wall.scrollHeight;

      // 줌 스크롤 공간 설정
      const totalHeight = ZOOM_SCROLL_PX + wallH + 200;
      spacer.style.height = totalHeight + 'px';

      // Lazy load 이미지
      const images = wall.querySelectorAll('img[data-src]');
      const imgObserver = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            const img = e.target;
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
            img.onload = () => { img.style.opacity = '1'; };
            imgObserver.unobserve(img);
          }
        });
      }, { rootMargin: '200px' });
      images.forEach(img => imgObserver.observe(img));

      // 스크롤 줌 핸들러
      let currentScale = MIN_SCALE;
      wall.style.transform = `scale(${MIN_SCALE})`;

      function onScroll() {
        const rect = spacer.getBoundingClientRect();
        const scrolled = -rect.top; // 얼마나 스크롤했는지
        const progress = Math.max(0, Math.min(1, scrolled / ZOOM_SCROLL_PX));

        // 줌 스케일
        const scale = MIN_SCALE + (MAX_SCALE - MIN_SCALE) * easeOutCubic(progress);
        wall.style.transform = `scale(${scale})`;
        currentScale = scale;

        // 줌 완료 후 일반 스크롤
        if (progress >= 1) {
          const overScroll = scrolled - ZOOM_SCROLL_PX;
          wall.style.transform = `scale(1) translateY(-${overScroll}px)`;
        }

        // 가이드 숨기기
        if (progress > 0.1) {
          guide.style.opacity = '0';
        } else {
          guide.style.opacity = '';
        }

        // 카운터 그림자
        if (scrolled > 10) {
          counterBar.classList.add('has-shadow');
        } else {
          counterBar.classList.remove('has-shadow');
        }
      }

      function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }

      window.addEventListener('scroll', onScroll, { passive: true });
      onScroll(); // 초기 상태

      // 범례
      const channels = [...new Set(videos.map(v => v.c))];
      channels.forEach(ch => {
        const item = document.createElement('div');
        item.className = 'wall-legend__item';
        item.innerHTML = `<span class="wall-legend__dot" style="background:${CHANNEL_COLORS[ch]||'#ED6C00'}"></span><span>${ch}</span>`;
        legendEl.appendChild(item);
      });
    });
})();
</script>

</body>
</html>
